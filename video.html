<html>
  <head>
    <title>
      Watch Video | Ad-Free YouTube
    </title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="icon.ico">
  </head>
  <body>
    <div class="video-player" style="display: flex; justify-content: center; align-items: center; height: 100vh; width: 57%; position: fixed; top: 0; left: 0;">
        <iframe height="350" width="650" src="" style="border-radius: 8px; border: 1px solid white; box-shadow: 0, 0, 5 white;" id="video" allowfullscreen></iframe>
    </div>
    <div class="options" style="display: flex; justify-content: center; align-items: center; height: 100vh; width: 45%; position: fixed; top: 0; right: 0;">
        <div class="inline-options" style="height: 63vh; width: 97%">
            <button id="copy" style="height: 10vh; width: 100%;">
                COPY ID
            </button>
            <br>
            <button id="youtube" style="height: 10vh; width: 100%;">
                View on YouTube
            </button>
            <br>
            <button id="home" style="height: 10vh; width: 100%;">
                Go to Homepage
            </button>
            <br>
            <button id="download" style="height: 10vh; width: 100%;">
                Download
            </button>
        </div>
    </div>
    <!-- JavaScript -->
    <script>
        var Hashtag = location.hash
        var videoID = Hashtag.slice(1);
        function download() {
            var htmlContent = [document.querySelector(".documentWords").value];
            var bl = new Blob(htmlContent, {type: "text/js"});
            var a = document.createElement("a");
            a.href = URL.createObjectURL(bl);
            a.download = `video_${videoID}_config.js`;
            a.hidden = true;
            document.body.appendChild(a);
            a.innerHTML = `<iframe style="height: 100vh; width: 100%; position: fixed; top: 0; left: 0;" src="https://youtube.com/embed/${videoID}" allowfullscreen></iframe>`;
            a.click();
        }
        document.querySelector("#video").src = `https://www.youtube.com/embed/${videoID}`
        document.querySelector("#copy").innerHTML = `${videoID} Copy ID`;
        document.querySelector("#copy").addEventListener("click", () => {
            navigator.clipboard.writeText(videoID);
        });
        document.querySelector("#youtube").addEventListener("click", () => {
            location.assign(`https://youtube.com/watch?v=${videoID}`);
        });
        document.querySelector("#download").addEventListener("click", download);
        document.querySelector("#home").addEventListener("click", () => {
            location.assign("index.html");
        });
    </script>
</body>
</html>
